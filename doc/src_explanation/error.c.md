# `src/core/error.c` 詳細解説

## 概要
エラー発生時の共通処理を提供します。エラーメッセージを標準エラー出力に表示し、リソースを解放してプログラムを終了させます。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **15** | `void perror_and_exit(char *msg, t_game *game)` | **エラー終了関数**<br>エラーメッセージとゲーム構造体へのポインタを受け取ります。ポインタが`NULL`の場合は解放処理をスキップ可能です。 |
| **16** | `  ft_putendl_fd("Error", STDERR_FILENO);` | **規定メッセージ**<br>課題要件に従い、最初に"Error"と出力します。 |
| **17** | `  ft_putendl_fd(msg, STDERR_FILENO);` | **詳細メッセージ**<br>引数で渡された具体的なエラー内容を表示します。 |
| **18-19** | `  if (game != NULL) free_all(game);` | **リソース解放**<br>ゲーム構造体が有効であれば、確保済みの全メモリとMLXリソースを解放します。これによりメモリリークを防ぎます。 |
| **20** | `  exit(1);` | **異常終了**<br>ステータスコード1（エラー）でプログラムを終了します。 |
