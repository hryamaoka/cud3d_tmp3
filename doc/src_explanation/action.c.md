# `src/input/action.c` 詳細解説

## 概要
キー入力によるアクション（ドア操作、移動、回転、終了）の振り分けと実行処理です。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **18** | `void interact_door(t_game *game)` | **ドア操作**<br>プレイヤーの正面にあるドアを開閉します。 |
| **22-23** | `  target_x = ...; target_y = ...;` | 目の前のマス座標を計算。 |
| **26-27** | `    if (... == 'D') ... = 'O';` | 閉まっているドア('D')なら開きます('O')。 |
| **28-31** | `    else if (... == 'O') ...` | **閉じ込め防止**<br>開いているドアを閉じる際、プレイヤー自身がその場にいないことを確認してから閉じます('D')。 |
| **36** | `int key_press(int keycode, t_game *game)` | **入力ハンドラ**<br>受け取ったキーコードに対応する関数を呼び出します。 |
| **37-38** | `  if (keycode == KEY_ESC)` | ESCキーで終了。 |
| **48** | `  else if (keycode == KEY_E)` | Eキーでドア操作。 |
