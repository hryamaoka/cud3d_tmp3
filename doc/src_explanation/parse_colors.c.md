# `src/parser/parse_colors.c` 詳細解説

## 概要
天井(C)と床(F)のRGB色設定をパースします。数値の形式確認、範囲チェック(0-255)、重複定義チェックを行います。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **15** | `static int check_digits(char *str)` | **数値チェック**<br>文字列が数字のみで構成されているかを確認します（空白は許容）。 |
| **31** | `static int set_rgb(t_color *color, char **param)` | **RGB設定**<br>3つの文字列パラメータを整数に変換し、構造体に保存します。 |
| **40-41** | `  if (color->r < 0 || ... > 255)` | **範囲検証**<br>各チャンネルが 0 ～ 255 の範囲内であることを厳密にチェックします。 |
| **46** | `static int validate_commas(char *line)` | **カンマ数検証**<br>「数値が3つあるか」を確認する前段階として、区切り文字であるカンマが正確に「2つ」存在することを確認します。`10,,20`のような不正形式を排除します。 |
| **62** | `static int parse_rgb_line(...)` | **RGB行解析**<br>カンマ区切りの文字列を分解し、色情報を抽出します。 |
| **68-69** | `  if (color->r != -1)` | **重複チェック**<br>初期値(-1)以外であれば既に設定済みとみなしエラーとします。 |
| **78** | `  param = ft_split(line, ',');` | カンマで分割。 |
| **82** | `  if (i != 3)` | 分割後の要素数が3以外ならエラー。 |
| **91** | `int parse_color(char *line, t_game *game)` | **色行パース**<br>行頭識別子(`F` or `C`)を判定し、`parse_rgb_line`を呼び出します。 |
