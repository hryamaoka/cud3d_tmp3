# `src/parser/textures_init.c` 詳細解説

## 概要
パースされたパス情報に基づき、XPMファイルを読み込んでMLX画像オブジェクトを作成します。ボーナス要素（ドア、スプライト）のテクスチャロードも含みます。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **15** | `int load_texture(t_game *game, int idx, char *path)` | **単一テクスチャロード**<br>インデックス(`idx`)に基づいて保存先を決定し、XPM画像を読み込みます。 |
| **18-25** | `  if (idx == -1) ...` | **インデックスによる分岐**<br>`-1`: ドア<br>`-2,-3`: スプライト<br>`0-3`: 壁（NO, SO, WE, EA） |
| **27** | `  tex->img = mlx_xpm_file_to_image(...)` | **画像読み込み**<br>MiniLibX関数でファイルから画像を生成します。幅と高さも取得されます。 |
| **30** | `  tex->addr = mlx_get_data_addr(...)` | ピクセルデータへのポインタを取得し、直接操作可能にします。 |
| **35** | `int init_textures(t_game *game)` | **一括ロード**<br>設定済みの全てのパスに対して`load_texture`を実行します。 |
| **45-52** | `  if (!load_texture(game, -1, ...))` | ドアとスプライトのテクスチャを固定パスからロードします。これらはボーナス機能用です。 |
| **57** | `unsigned int get_texture_color(...)` | **色取得ヘルパー**<br>テクスチャ画像の指定座標 `(x, y)` にあるピクセルの色（unsigned int）を返します。境界チェックを含みます。 |
