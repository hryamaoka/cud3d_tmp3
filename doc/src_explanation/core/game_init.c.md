# `src/core/game_init.c` 詳細解説

## 概要
ゲーム構造体 `t_game` の初期化を行うファイルです。未定義動作やメモリゴミによるバグを防ぐため、パース処理やウィンドウ作成が始まる前に、全てのメンバ変数を安全な初期値（0 または NULL, -1）に設定します。

## 依存関係
*   `cub3d.h`: `t_game` 構造体。
*   `init.h`: 関連する初期化関数定義。

## 関数詳細

### 1. `init_parse`
#### プロトタイプ
`void init_parse(t_game *game)`

#### 戻り値
なし

#### 解説
マップファイルから読み取るべき設定値（テクスチャパス、色情報、マップサイズ、プレイヤー位置）の変数を初期化します。これらが「未設定」であることを示すために、ポインタは `NULL`、数値は `-1` に設定します。

### 2. `init_game`
#### プロトタイプ
`void init_game(t_game *game)`

#### 戻り値
なし

#### 解説
`t_game` 構造体全体をゼロクリアし、その後で必要なメンバを明示的に初期化します。

### コード行別解説 (`init_game`)

| 行番号 | コード | 詳細解説 |
| :--- | :--- | :--- |
| 40 | `ft_bzero(game, sizeof(t_game));` | **ゼロクリア**<br>構造体の全メモリ領域を0で埋めます。これにより、ポインタは `NULL`、整数は `0` になります。初期化忘れによるバグを防ぐ最も確実な方法です。 |
| 41-42 | `game->z_buffer = NULL;` 等 | 明示的に `NULL` を代入し、可読性を高めています。 |
| 45-48 | `while (i < 4)` ... | **テクスチャ初期化**<br>壁テクスチャ配列のポインタを `NULL` に設定します。ループを使うことで拡張性を持たせています。 |
| 49-51 | `game->door_tex.img = NULL;` ... | その他のテクスチャ（ドア、スプライト）変数の初期化。 |
| 53 | `init_parse(game);` | **パース用変数初期化**<br>`init_parse` 関数を呼び出し、パース結果を格納する変数を `-1` や `NULL` にリセットし、パース中に値がセットされたかどうかを後で判定できるようにします。 |
