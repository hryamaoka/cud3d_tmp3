# `src/render/render.c` 詳細解説

## 概要
フレームごとの描画プロセスを制御します。天井と床の描画、テクスチャ付き壁の描画（ピクセルごとの色取得）、そして全オブジェクトの描画順序を管理します。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **15-27** | `static void draw_ceiling(...)` | **天井描画**<br>画面上端から壁の開始位置(`draw_start`)までを天井色で塗りつぶします。高速化のため、メモリに直接書き込みます。 |
| **29-41** | `static void draw_floor(...)` | **床描画**<br>壁の終了位置(`draw_end`)から画面下端までを床色で塗りつぶします。 |
| **48** | `void draw_textured_line(...)` | **壁テクスチャ描画**<br>計算された垂直ラインに対し、テクスチャから対応するピクセル色を取得して描画します。 |
| **55-56** | `  step = ...; tex_pos = ...;` | **スケーリング計算**<br>テクスチャ座標Yを画面座標Yに対応させるためのステップ値と初期位置を計算します。 |
| **61** | `    idx = (y * line_length) ...` | 描画先アドレスのインデックス計算。 |
| **63-67** | `      game->img.addr[idx] = ...` | **色転送**<br>取得した色(`unsigned int`)をバイト列(B, G, R)に分解して書き込みます。 |
| **73** | `int render_frame(t_game *game)` | **フレームレンダリング**<br>毎フレーム呼び出される関数です。 |
| **74** | `  raycast(game);` | レイキャスティング実行（壁描画含む）。 |
| **75** | `  draw_sprites(game);` | スプライト描画（Zバッファ使用）。 |
| **76** | `  draw_minimap(game);` | ミニマップを最前面に描画。 |
| **77** | `  mlx_put_image_to_window(...)` | **画面転送**<br>完成したオフスクリーン画像をウィンドウに表示します。 |
