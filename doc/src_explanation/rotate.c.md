# `src/input/rotate.c` 詳細解説

## 概要
プレイヤーの視点回転処理です。矢印キーによる回転と、マウスによる直感的な視点操作を提供します。

## コード詳細解説

| 行番号 | コード | 解説 |
| :--- | :--- | :--- |
| **16** | `void rotate_player(t_game *game, double angle)` | **回転計算**<br>回転行列を用いて、方向ベクトル(`dir`)とカメラ平面ベクトル(`plane`)を指定角度(`angle`)だけ回転させます。 |
| **23-28** | `  dir_x = ... cos - ... sin` | 2次元ベクトルの回転公式を適用します。`player.dir`と`player.plane`は直交関係を維持して回転する必要があります。 |
| **35** | `int mouse_handler(int x, int y, t_game *game)` | **マウス操作**<br>マウスの水平移動量に基づいて回転を行います。 |
| **41-42** | `  center_x = ...; delta_x = ...` | 画面中央からのマウスのズレを計算します。 |
| **45** | `  rot_speed = delta_x * 0.002;` | ズレ量に感度定数を掛けて回転角度を算出します。 |
| **47** | `  mlx_mouse_move(...)` | **カーソルリセット**<br>処理後にマウスカーソルを強制的に画面中央に戻します。これにより、ウィンドウ枠に制限されずに無限に回転操作を続けることができます。 |
