# XPM (X PixMap) ファイル解説

## 1. XPMファイルとは？
**XPM (X PixMap)** は、主にUNIX/Linux系のシステム（X Window System）で使用される**画像ファイル形式**です。

## 2. 最大の特徴：テキスト形式であること
JPEGやPNGといった一般的な画像ファイルは「バイナリデータ」であり、人間がテキストエディタで開いても文字化けして読めません。
しかし、**XPMはテキストデータ（ASCII文字）**で構成されています。

実際にテキストエディタで開くと、以下のように**C言語のソースコード**（配列定義）のような構造になっています：

```c
/* XPM */
static char * example[] = {
"16 16 3 1",       // 幅 高さ 色数 文字数/ピクセル
"  c None",        // 色定義: スペースは透明
". c #000000",     // 色定義: . は黒
"+ c #FF0000",     // 色定義: + は赤
"  ..            ", // ピクセルデータ（ドット絵のように並んでいる）
" .++..          ",
" .++++..        ",
" ......         "
};
```

このように、**「どの文字がどの色に対応するか」**（カラーパレット）を定義し、その文字を並べて絵を描く仕組みになっています。

## 3. Cub3Dでの役割
このプロジェクト（Cub3D）では、以下の理由からXPMが採用されています。

### ① MiniLibXとの親和性
42の課題で使用するグラフィックライブラリ **MiniLibX** には、XPMファイルを読み込むための関数が標準で用意されています。

*   `mlx_xpm_file_to_image`: ファイルパスを指定するだけで、自動的に画像をメモリにロードしてくれます。

これにより、JPEGやPNGのデコーダ（解凍プログラム）を自作したり、外部の重いライブラリをリンクしたりする必要がなくなり、開発が容易になります。

### ② 壁やスプライトのテクスチャ
`.cub` ファイルで指定される `NO` (北), `SO` (南) などの壁のテクスチャや、マップ上のアイテム（スプライト）の画像として使用されます。

このテキストベースの特性により、小さなアイコンやテスト用のテクスチャであれば、ペイントソフトを使わずにテキストエディタで直接作成・編集することすら可能です。
